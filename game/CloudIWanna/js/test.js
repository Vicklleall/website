const socket=io.connect('https://server.vicklleall.com/race');function pushData(){player&&socket.emit('kid',[nowUser,`${player.sprName},${player.ind<<0},${player.x<<0},${player.y<<0},${player.image_xscale}`])}function addMsg(e){let t=document.createElement('p');t.innerText=e,$`msg`.appendChild(t),setTimeout(e=>$`msg`.removeChild(e),2e4,t)}socket.on('open',()=>{socket.emit('init',{u:nowUser,room:GAME_ID})}),socket.on('users',e=>{for(let t in e)USERS[t]=['i',0,-32,-32,1]}),socket.on('leave',e=>{delete USERS[e]}),socket.on('kid',e=>{USERS[e[0]]=e[1].split(',')}),socket.on('msg',addMsg),document.addEventListener('keydown',e=>{if('textarea'===document.activeElement.type||'input'===document.activeElement.type)return!0;if(32===e.keyCode){let e=(prompt('请输入要发送的消息：')||'').slice(0,30);e.trim()&&(e=nowUser+': '+e,parent?(parent.addMsg(e),parent.ws.emit('msg',e)):(addMsg(e),socket.emit('msg',e)))}}),console.log('%c温馨提示：不要作弊哦:)','color:#39F');