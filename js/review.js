{let e=Ele('div','box rev-b'),t=Ele('textarea'),a=Ele('input'),l=Ele('div','I emoji S T TC sbl sap'),n=Ele('div','I btn T G').txt('发表'),i=Ele('div','rev-i');t.placeholder='说点什么吧...',a.placeholder='这里填名称...',a.oninput=t.oninput=()=>{t.value.trim()&&a.value.trim()&&window.AV?n.rC('G'):n.aC('G')},e.ap(Ele('h5','bbl').html(Icon('review')+'评论'),i.ap(t,l.ap(Ele('div','box').ap(...['😀','🙂','🙃','😂','😮','🤔','🙄','😏','👍','（￣▽￣）','(=・ω・=)','("▔□▔)/','(〜￣△￣)〜','←◡←','（￣へ￣）','(╯°口°)╯','(･∀･)','_(:3」∠)_'].map(e=>{let a=Ele('span','I S T sbl').txt(e);return a.onclick=function(){t.value+=this.innerText,t.oninput()},a}))),a,n));let o=i$('rev-p');o?o.ap(e):(e.aC('flex-R'),i$('wrap').ap(e));const r=e=>{let t=Ele('div','rev');t.ap(Ele('h5').txt(e.get('name')).ap(Ele('span','info R').txt(Time.fDate(e.createdAt)+' '+Time.fTime(e.createdAt))),Ele('p').txt(e.get('words'))),i.after(t)};LC(()=>{new AV.Query('RHome').equalTo('URL',location.pathname+location.search).ascending('createdAt').find().then(e=>e.forEach(r))}),n.onclick=()=>{n.aC('G');let e=new AV.Object('RHome');e.set('words',t.value),e.set('name',a.value.trim()),e.set('URL',location.pathname+location.search),e.save().then(e=>{r(e),t.value='',a.value=''},e=>{console.log(e),alert('评论发表失败'),n.rC('G')})}}